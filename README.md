# typed-config-plugins [![npm][npm-image]][npm-url]

**Type Safety for Your Expo Config Plugins.**

Expo config plugins are incredibly powerful, but their configuration lacks the safety net of type checking. `typed-config-plugins` bridges this gap, bringing the full power of TypeScript to your Expo project's configuration.

## ‚ú® Features

-   **Enhanced Developer Experience:** Get autocomplete and type validation directly in your `app.config.ts` files, making plugin configuration less error-prone and more efficient.
-   **Pre-built Types:** Includes ready-to-use TypeScript definitions for many popular Expo config plugins, generated by analyzing their source code.
-   **Extensible:** Easily add custom types for your own or third-party plugins using TypeScript module augmentation.
-   **Seamless Integration:** Designed to work smoothly with your existing `app.config.ts` setup. **Note: JSON config files are not supported.**

## üì¶ Installation

```bash
npm i typed-config-plugins
```

## üöÄ Usage

Update your `app.config.ts` file to use the `plugin` helper from `typed-config-plugins`.

```typescript
import { type ConfigContext, type ExpoConfig } from "expo/config";
import { plugin } from "typed-config-plugins";

export default ({ config }: ConfigContext): ExpoConfig => ({
    ...config,
    // ... other config
    plugins: [
        plugin("expo-build-properties", { android: { minSdkVersion: 26 } }),
        plugin("demo-package", { bar: "example", baz: 42 }),
        // This will generate the traditional ["demo-package", { bar: "example", baz: 42 }]
        // array at runtime while providing type safety during development.

        /*
        The `plugin` function replaces the traditional array syntax, providing
        type checking and autocompletion for your plugin options:

        // Old syntax (no type checking):
        ["expo-build-properties", { android: { minSdkVersion: 26 } }],
        ["demo-package", { bar: "example", baz: 42 }],

        You can still use the old syntax for plugins without defined types or
        for local file-based plugins:
        "./path/to/my-local-plugin.js",
        */
    ],
});
```

## ü§ù Adding Custom Plugin Types

To extend `typed-config-plugins` with types for your own plugins or plugins not yet covered, you can use TypeScript's module augmentation feature.

Create a new declaration file (e.g., `config-plugins.d.ts`) in your project's root or `src` directory with the following content:

```typescript
// config-plugins.d.ts
import "typed-config-plugins"; // Import the original type declarations

declare module "typed-config-plugins" {
    // Extend the `ThirdPartyPlugins` interface with your custom plugin types
    interface ThirdPartyPlugins {
        // Define options for "demo-package" (as used in the example)
        "demo-package": { bar: string, baz?: number };
        // more packages here...
    }
}
```

Now, when you use `plugin("my-custom-plugin", { /* ... */ })` in your `app.config.ts`, TypeScript will provide autocompletion and validate the options against the types you've defined.

[npm-image]: https://img.shields.io/npm/v/typed-config-plugins
[npm-url]: https://www.npmjs.com/package/typed-config-plugins
